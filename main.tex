\documentclass{article}
\usepackage{graphicx} % Paveikslėliams įterpti
\usepackage{geometry} % Paraščių keitimui
\geometry{a4paper, margin=1in}
\usepackage{hyperref} % Nuorodoms dokumente
\usepackage{float}    % Paveikslų ir lentelių pozicionavimui

\title{PowerPC ir SuperH palyginimas}
\author{Mateušas Zlosnikas}
\date{2024 m. gruodis}

\begin{document}

\maketitle

\tableofcontents % Turinys

\section{Įvadas}
Šiame dokumente palyginamos dvi procesorių architektūros: \textbf{PowerPC} ir \textbf{SuperH}. Abi architektūros turėjo reikšmingą įtaką skirtingoms kompiuterių sritims – nuo įterptųjų sistemų iki aukštos spartos skaičiavimų.

\section{Elementinė kompiuterių bazė}
\subsection{PowerPC}
PowerPC procesoriai buvo sukurti naudojant \textbf{VLSI} (labai didelės integracijos masto) technologiją ir palaipsniui evoliucionavo iki šiuolaikinių monokristalinių mikroprocesorių. Ankstyvieji modeliai buvo paremti \textbf{RISC} (sumažinto komandų rinkinio kompiuterio) dizainu, siekiant aukšto našumo ir mažo sudėtingumo.

\subsection{SuperH}
SuperH procesoriai taip pat buvo pagaminti naudojant \textbf{VLSI} technologiją. Jų dizainas buvo optimizuotas mažam energijos suvartojimui ir kompaktiškam dydžiui, todėl jie plačiai naudoti įterptosiose sistemose, automobilių pramonėje ir mobiliojoje elektronikoje.

\section{Fizinės įrangos savybės}
\subsection{PowerPC}
\begin{itemize}
    \item \textbf{Dydis:} Ankstyvieji modeliai buvo didesni, tačiau technologinė pažanga leido procesoriams sumažėti.
    \item \textbf{Energijos suvartojimas:} Nuo vidutinio iki didelio (50–100 W).
\end{itemize}

\subsection{SuperH}
\begin{itemize}
    \item \textbf{Dydis:} Kompaktiškas dizainas, užimantis vos kelis kvadratinius milimetrus.
    \item \textbf{Energijos suvartojimas:} Itin mažas – nuo 0,5 W iki 10 W.
\end{itemize}

\section{Architektūrų tipai}
\subsection{PowerPC}
PowerPC procesoriai naudoja \textbf{RISC} architektūrą, kuri yra \textbf{registrinio tipo}. Tai reiškia, kad dauguma operacijų atliekamos tarp registrų, o ne tiesiogiai naudojant atmintį. Toks sprendimas leidžia sumažinti delsą ir padidinti našumą.

\begin{itemize}
    \item \textbf{Architektūros tipas:} Registrinė, RISC.
    \item \textbf{Savybės:}
        \begin{itemize}
            \item Fiksuoto ilgio instrukcijos.
            \item Daugybė bendros paskirties registrų.
        \end{itemize}
\end{itemize}

\subsection{SuperH}
SuperH procesoriai taip pat naudoja \textbf{registrinio tipo RISC} architektūrą. Šis dizainas leidžia procesoriams veikti efektyviai tiek energijos, tiek našumo atžvilgiu, todėl jie ypač tinkami įterptosioms sistemoms.

\begin{itemize}
    \item \textbf{Architektūros tipas:} Registrinė, RISC.
    \item \textbf{Savybės:}
        \begin{itemize}
            \item Mažas ir efektyvus komandų rinkinys.
            \item Optimizuotas energijos taupymui.
        \end{itemize}
\end{itemize}
\section{Adresavimo tipai}
\subsection{PowerPC}
PowerPC procesoriai naudoja \textbf{trijų adresų} architektūrą. Instrukcijos dažniausiai turi du šaltinio operandus ir vieną rezultatą, kuris įrašomas į registrą. Ši konstrukcija leidžia atlikti daugiau operacijų per mažesnį instrukcijų skaičių, taip pagerinant našumą.

\begin{itemize}
    \item \textbf{Adresų skaičius:} Trijų adresų.
    \item \textbf{Pavyzdys:} \( R_d = R_s + R_t \), kur \( R_d \) – rezultato registras, o \( R_s \) ir \( R_t \) – šaltinio registrai.
\end{itemize}

\subsection{SuperH}
SuperH procesoriai naudoja \textbf{dviejų adresų} architektūrą. Instrukcija naudoja vieną šaltinio operandą ir rezultatą, kuris gali būti įrašomas į tą patį registrą arba atmintį. Tai supaprastina procesoriaus instrukcijų dekodavimą, tačiau kartais reikalauja papildomų instrukcijų norint atlikti kompleksines operacijas.

\begin{itemize}
    \item \textbf{Adresų skaičius:} Dviejų adresų.
    \item \textbf{Pavyzdys:} \( R_d = R_d + R_s \), kur \( R_d \) veikia kaip tiek šaltinis, tiek rezultatas.
\end{itemize}

\section{Registrai}
\subsection{PowerPC}
PowerPC architektūra turi tiek \textbf{bendrosios paskirties}, tiek \textbf{specializuotus registrus}. Šie registrai yra svarbūs vykdant RISC tipo instrukcijas ir optimizuojant skaičiavimus.

\begin{itemize}
    \item \textbf{Bendrosios paskirties registrai:} 
        \begin{itemize}
            \item PowerPC turi \textbf{32 bendrosios paskirties registrus} (GPR – General Purpose Registers).
            \item Registrų \textbf{duomenų plotis}: 32 bitai ankstyvuose modeliuose, vėlesniuose modeliuose – 64 bitai.
        \end{itemize}
    \item \textbf{Specializuoti registrai:}
        \begin{itemize}
            \item \textbf{LR (Link Register):} Saugoti grįžimo adresą funkcijų kvietimuose.
            \item \textbf{CTR (Count Register):} Naudojamas ciklams ir skaičiavimams.
            \item \textbf{FPSCR (Floating Point Status and Control Register):} Valdo slankaus kablelio operacijas.
            \item \textbf{Specialūs vektoriniai registrai:} Naudojami multimedijos ir signalų apdorojimui (vėlesniuose modeliuose).
        \end{itemize}
\end{itemize}

\subsection{SuperH}
SuperH architektūra turi mažesnį skaičių registrų, tačiau jie yra efektyviai panaudojami, kadangi SuperH yra skirta įterptosioms sistemoms, kur mažas energijos suvartojimas ir greitis yra itin svarbūs.

\begin{itemize}
    \item \textbf{Bendrosios paskirties registrai:}
        \begin{itemize}
            \item SuperH turi \textbf{16 bendrosios paskirties registrų} (R0–R15).
            \item Registrų \textbf{duomenų plotis}: 32 bitai.
        \end{itemize}
    \item \textbf{Specializuoti registrai:}
        \begin{itemize}
            \item \textbf{PC (Program Counter):} Laiko vykdomos instrukcijos adresą.
            \item \textbf{SR (Status Register):} Saugomi procesoriaus būsenos bitai.
            \item \textbf{SP (Stack Pointer):} Valdo steko operacijas.
            \item \textbf{MAC (Multiply-Accumulate Register):} Naudojamas dauginimo ir sumavimo operacijoms.
        \end{itemize}
\end{itemize}

\section*{Registrų palyginimas}
\begin{itemize}
    \item \textbf{PowerPC:} 32 bendrosios paskirties registrai, duomenų plotis iki 64 bitų, daug specializuotų registrų.
    \item \textbf{SuperH:} 16 bendrosios paskirties registrų, 32 bitų duomenų plotis, mažiau specializuotų registrų.
\end{itemize}

\section{Požymių bitai}
\subsection{PowerPC}
PowerPC architektūroje požymių bitai yra naudojami tam tikriems procesoriaus būsenos signalams valdyti. Jie yra saugomi specializuotame registruose, tokiuose kaip \textbf{Condition Register (CR)} ir \textbf{Floating Point Status and Control Register (FPSCR)}.

\begin{itemize}
    \item \textbf{CR (Condition Register):}
        \begin{itemize}
            \item CR registras turi \textbf{8 laukus} (CR0–CR7), kur kiekvienas laukas yra 4 bitų.
            \item Požymių bitai atspindi instrukcijų rezultatus, tokius kaip:
                \begin{itemize}
                    \item \textbf{EQ (Equal):} Reikšmės lygios.
                    \item \textbf{LT (Less Than):} Reikšmė mažesnė.
                    \item \textbf{GT (Greater Than):} Reikšmė didesnė.
                    \item \textbf{SO (Summary Overflow):} Viršijo aritmetinės operacijos reikšmę.
                \end{itemize}
        \end{itemize}
    \item \textbf{FPSCR (Floating Point Status and Control Register):}
        \begin{itemize}
            \item Naudojamas slankaus kablelio operacijų požymių bitams saugoti.
            \item Valdo tokias būsenas kaip **viršpildymas**, **nulio dalyba** ir **neapibrėžtos reikšmės**.
        \end{itemize}
\end{itemize}

\subsection{SuperH}
SuperH architektūroje požymių bitai taip pat egzistuoja, tačiau jų kiekis ir funkcionalumas yra supaprastintas, atsižvelgiant į architektūros efektyvumą.

\begin{itemize}
    \item \textbf{SR (Status Register):}
        \begin{itemize}
            \item SR registras saugo požymių bitus, kurie nurodo procesoriaus būseną.
            \item Dažniausiai naudojami bitai:
                \begin{itemize}
                    \item \textbf{T (T-bit):} Rezultato tikrinimo bitas (naudojamas sąlyginiams šakoms).
                    \item \textbf{I (Interrupt Mask):} Pertraukčių valdymas.
                    \item \textbf{S (Supervisor Mode):} Indikuoja veikimą administratoriaus režimu.
                \end{itemize}
        \end{itemize}
\end{itemize}

\section*{Požymių bitų palyginimas}
\begin{itemize}
    \item \textbf{PowerPC:} Išsamesnė požymių sistema su **CR** ir **FPSCR** registrais, palaikančiais aritmetinių ir slankaus kablelio operacijų būsenas.
    \item \textbf{SuperH:} Paprastesnė sistema su **SR** registru, kuriame yra pagrindiniai bitai, reikalingi šakoms ir pertrauktims valdyti.
\end{itemize}

\section{Duomenų plotis (mašininis žodis)}
\subsection{PowerPC}
PowerPC architektūros duomenų plotis priklauso nuo procesoriaus kartos:
\begin{itemize}
    \item Ankstyvieji PowerPC procesoriai turėjo \textbf{32 bitų} duomenų plotį.
    \item Vėlesnėse versijose, tokiose kaip PowerPC 64, buvo pereita prie \textbf{64 bitų} duomenų pločio.
\end{itemize}
Mašininis žodis nustato maksimalų duomenų kiekį, kurį procesorius gali apdoroti vienu ciklu, todėl 64 bitų versijos leido gerokai didesnį našumą ir adresavimo erdvę.

\subsection{SuperH}
SuperH architektūra buvo sukurta kaip 32 bitų sistema:
\begin{itemize}
    \item Visi bendrosios paskirties registrai ir mašininiai žodžiai yra \textbf{32 bitų}.
    \item Instrukcijų ilgis: \textbf{16 bitų} fiksuoto ilgio komandos, optimizuotos mažoms atminties sąnaudoms.
\end{itemize}
Šis dizainas leido sumažinti energijos suvartojimą ir padidinti instrukcijų vykdymo greitį, ypač įterptosiose sistemose.

\section{Atminties išdėstymas}
\subsection{PowerPC}
PowerPC architektūra naudoja \textbf{ištisinę adresų erdvę} su galimybe palaikyti virtualią atmintį. 

\begin{itemize}
    \item \textbf{Adreso plotis:} 
        \begin{itemize}
            \item 32 bitai ankstyvuose modeliuose.
            \item 64 bitai vėlesniuose modeliuose (PowerPC 64).
        \end{itemize}
    \item \textbf{Maksimalus atminties kiekis:}
        \begin{itemize}
            \item 32 bitų sistemose – iki \( 4 \, \text{GB} \) (2\textsuperscript{32} adresų).
            \item 64 bitų sistemose – iki \( 16 \, \text{EB} \) (2\textsuperscript{64} adresų).
        \end{itemize}
    \item \textbf{Tipiškas atminties kiekis:}
        \begin{itemize}
            \item Ankstyvose sistemose – nuo \( 64 \, \text{MB} \) iki \( 512 \, \text{MB} \).
            \item Naujesnėse serverių sistemose – nuo kelių GB iki kelių TB.
        \end{itemize}
    \item \textbf{Atminties valdymas:}
        \begin{itemize}
            \item Virtualios atminties valdymas su puslapių peradresavimu (MMU – Memory Management Unit).
            \item Ištisinė erdvė leidžia tiesioginį adresavimą.
        \end{itemize}
\end{itemize}

\subsection{SuperH}
SuperH architektūra naudoja \textbf{ištisinę adresų erdvę} su galimybe taikyti segmentuotą atminties valdymą dėl savo paprasto dizaino.

\begin{itemize}
    \item \textbf{Adreso plotis:} 
        \begin{itemize}
            \item 32 bitai, leidžiantys adresuoti iki \( 4 \, \text{GB} \) atminties.
        \end{itemize}
    \item \textbf{Maksimalus atminties kiekis:}
        \begin{itemize}
            \item Iki \( 4 \, \text{GB} \) dėl 32 bitų adresų pločio.
        \end{itemize}
    \item \textbf{Tipiškas atminties kiekis:}
        \begin{itemize}
            \item Dažniausiai nuo \( 8 \, \text{MB} \) iki \( 64 \, \text{MB} \) įterptosioms sistemoms.
        \end{itemize}
    \item \textbf{Atminties valdymas:}
        \begin{itemize}
            \item Nėra pilnos virtualios atminties valdymo sistemos ankstyvuose modeliuose.
            \item Atminties adresai dažnai tiesiogiai naudojami be sudėtingo segmentavimo.
        \end{itemize}
\end{itemize}

\section*{Atminties išdėstymo palyginimas}
\begin{itemize}
    \item \textbf{PowerPC:} Ištisinė adresų erdvė su virtualios atminties valdymu ir MMU. Adreso plotis 32/64 bitai, maksimalus atminties kiekis iki \( 16 \, \text{EB} \).
    \item \textbf{SuperH:} Ištisinė adresų erdvė, 32 bitų adreso plotis, maksimalus atminties kiekis \( 4 \, \text{GB} \), su ribotu atminties valdymu.
\end{itemize}

\section{Virtualiosios atminties palaikymas}
\subsection{PowerPC}
PowerPC architektūra palaiko virtualią atmintį, kuri yra realizuota naudojant \textbf{puslapiavimą}. Tai atliekama naudojant atminties valdymo įrenginį (\textbf{MMU} – Memory Management Unit), kuris atsakingas už adresų pervedimą iš virtualiųjų į fizinius adresus.

\begin{itemize}
    \item \textbf{Puslapiavimas:}
        \begin{itemize}
            \item Atmintis yra padalinta į fiksuoto dydžio puslapius (pvz., 4 KB dydžio).
            \item Virtualūs adresai susiejami su fiziniais naudojant puslapių lenteles (Page Tables).
        \end{itemize}
    \item \textbf{Segmentavimas:} 
        \begin{itemize}
            \item Nors pagrindinis mechanizmas yra puslapiavimas, kai kuriose implementacijose gali būti derinamas su segmentavimu.
        \end{itemize}
    \item \textbf{MMU funkcijos:}
        \begin{itemize}
            \item Palaiko puslapių apsaugą (Read/Write/Execute leidimai).
            \item Leidžia naudoti virtualią atmintį, kuri gali būti didesnė nei fizinė.
        \end{itemize}
\end{itemize}

\subsection{SuperH}
SuperH architektūroje virtualios atminties palaikymas yra ribotas ir priklauso nuo konkretaus procesoriaus modelio. Ankstyvieji modeliai neturėjo virtualios atminties valdymo, o vėlesnėse versijose buvo pridėtas dalinis palaikymas naudojant \textbf{puslapiavimą}.

\begin{itemize}
    \item \textbf{Puslapiavimas:}
        \begin{itemize}
            \item Naudojamas tik kai kuriuose naujesniuose SuperH procesoriuose su MMU.
            \item Atmintis padalinta į fiksuoto dydžio puslapius (pvz., 1 KB arba 4 KB dydžio).
        \end{itemize}
    \item \textbf{Segmentavimas:}
        \begin{itemize}
            \item Segmentavimas plačiai nebuvo naudojamas SuperH architektūroje dėl paprastesnio dizaino.
        \end{itemize}
    \item \textbf{Be virtualios atminties:}
        \begin{itemize}
            \item Ankstyvieji SuperH procesoriai dirbo tik su fiziniais adresais ir tiesioginiu atminties adresavimu.
        \end{itemize}
\end{itemize}

\section*{Virtualios atminties palyginimas}
\begin{itemize}
    \item \textbf{PowerPC:} Pilnas virtualios atminties palaikymas naudojant puslapiavimą ir MMU, su galimybe derinti su segmentavimu.
    \item \textbf{SuperH:} Ribotas palaikymas – ankstyvieji modeliai nepalaikė virtualios atminties, o vėlesniuose modeliuose įdiegtas puslapiavimas.
\end{itemize}
\section{Komandų sistema (ISA)}
\subsection{PowerPC}
PowerPC architektūra naudoja \textbf{RISC (Reduced Instruction Set Computer)} tipo komandų sistemą. Ji pasižymi mažesniu, bet efektyviu komandų rinkiniu, kuris optimizuoja vykdymo greitį.

\begin{itemize}
    \item \textbf{Komandų skaičius:} Apie 200–300 instrukcijų (priklausomai nuo versijos).
    \item \textbf{Instrukcijų klasės:}
        \begin{itemize}
            \item \textbf{Aritmetinės:} Sudėtis, atimtis, daugyba.
            \item \textbf{Loginės:} AND, OR, XOR, NOT.
            \item \textbf{Perkėlimo:} Duomenų judėjimas tarp registrų ir atminties.
            \item \textbf{Šakų (Branch):} Sąlyginiai ir nesąlyginiai šuoliai.
            \item \textbf{Slankaus kablelio:} Aritmetika su slankiuoju kableliu.
            \item \textbf{Specialios:} Sistemos valdymo instrukcijos.
        \end{itemize}
    \item \textbf{Instrukcijų formatai:}
        \begin{itemize}
            \item Fiksuoto dydžio 32 bitų instrukcijos.
            \item Rūšys: \textbf{R-formatas} (registrų operacijos), \textbf{I-formatas} (immediate reikšmės), \textbf{B-formatas} (šakos).
        \end{itemize}
\end{itemize}

\textbf{Instrukcijų pavyzdžiai:}
\begin{itemize}
    \item \texttt{add r3, r4, r5} – Sudeda \texttt{r4} ir \texttt{r5}, rezultatą įrašo į \texttt{r3}.
    \item \texttt{sub r3, r4, r5} – Atima \texttt{r5} iš \texttt{r4}, rezultatą įrašo į \texttt{r3}.
    \item \texttt{and r3, r4, r5} – Atlieka loginę AND tarp \texttt{r4} ir \texttt{r5}, rezultatą įrašo į \texttt{r3}.
    \item \texttt{or r3, r4, r5} – Atlieka loginę OR tarp \texttt{r4} ir \texttt{r5}.
    \item \texttt{lwz r3, 0(r4)} – Įkrauna žodį iš atminties (adresu \texttt{r4}) į \texttt{r3}.
    \item \texttt{stw r3, 0(r4)} – Saugo žodį iš \texttt{r3} į atmintį (adresu \texttt{r4}).
    \item \texttt{b label} – Besąlyginis šuolis į nurodytą etiketę.
    \item \texttt{bl label} – Šuolis su grįžimo adresu į \texttt{Link Register}.
\end{itemize}

\subsection{SuperH}
SuperH architektūra taip pat naudoja \textbf{RISC} komandų sistemą, bet pasižymi mažesniu instrukcijų rinkiniu, kuris optimizuotas įterptosioms sistemoms.

\begin{itemize}
    \item \textbf{Komandų skaičius:} Apie 50–100 instrukcijų.
    \item \textbf{Instrukcijų klasės:}
        \begin{itemize}
            \item \textbf{Aritmetinės:} Sudėtis, atimtis, daugyba.
            \item \textbf{Loginės:} AND, OR, XOR.
            \item \textbf{Perkėlimo:} Duomenų perkėlimas tarp registrų ir atminties.
            \item \textbf{Šakų (Branch):} Sąlyginiai ir nesąlyginiai šuoliai.
        \end{itemize}
    \item \textbf{Instrukcijų formatai:}
        \begin{itemize}
            \item Fiksuoto dydžio \textbf{16 bitų} instrukcijos.
        \end{itemize}
\end{itemize}

\textbf{Instrukcijų pavyzdžiai:}
\begin{itemize}
    \item \texttt{add r0, r1} – Sudeda \texttt{r0} ir \texttt{r1}, rezultatą įrašo į \texttt{r0}.
    \item \texttt{sub r0, r1} – Atima \texttt{r1} iš \texttt{r0}, rezultatą įrašo į \texttt{r0}.
    \item \texttt{mov r0, r1} – Perkelia reikšmę iš \texttt{r1} į \texttt{r0}.
    \item \texttt{and r0, r1} – Atlieka loginę AND tarp \texttt{r0} ir \texttt{r1}.
    \item \texttt{or r0, r1} – Atlieka loginę OR tarp \texttt{r0} ir \texttt{r1}.
    \item \texttt{tst r0, r1} – Patikrina loginius bitus tarp \texttt{r0} ir \texttt{r1}.
    \item \texttt{bra label} – Besąlyginis šuolis į nurodytą etiketę.
    \item \texttt{braf r0} – Šuolis su adresu iš \texttt{r0}.
\end{itemize}

\section*{Komandų palyginimas}
\begin{itemize}
    \item \textbf{Panašumai:} Abi architektūros palaiko RISC dizainą ir turi panašias instrukcijų klases (aritmetinės, loginės, šakų ir perkėlimo komandos).
    \item \textbf{Skirtumai:}
        \begin{itemize}
            \item PowerPC palaiko daugiau komandų (200–300) ir turi 32 bitų instrukcijas.
            \item SuperH turi mažesnį instrukcijų rinkinį (50–100) su 16 bitų instrukcijomis, skirtomis mažai atminties sąnaudai.
        \end{itemize}
\end{itemize}

\bibliographystyle{plain}
\bibliography{literatura} 

\end{document}
